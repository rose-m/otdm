{% extends "global/Page.html" %}
{% load staticfiles otree %}
{% load staticfiles %}

{% block title %}
Block {{ player.current_step }} of 5
{% endblock %}

{% block content %}

<hr>

<div class="progress">
    <div class="progress-bar" style="width: {{ progress }}%">{{ player.current_step }} / 5</div>
</div>

<hr>

<div>
    <h3 class="text-center">
        Gain {{ gain | c }} <em>per Week</em>
    </h3>

    <table class="otdm__choices-table table table-bordered table-striped" style="table-layout: fixed;">
        <thead>
        <tr class="text-center">
            <th>Option A</th>
            <th width="75">A</th>
            <th width="75">B</th>
            <th>Option B</th>
        </tr>
        </thead>
        <tbody class="small">
        {% for week, gain, rev_week, rev_gain in week_gain %}
        <tr>
            <td class="text-right">
                {% if gain == 1 %}
                in week <span class="otdm__week">{{ week }}</span>
                {% else %}
                starting in week <span class="otdm__week">{{ week_start }}</span>
                and ending (after) week <span class="otdm__week">{{ week }}</span>
                [<span class="otdm__week">{{ gain }}</span>]
                {% endif %}
            </td>
            <td class="text-center otdm__choice-cell">
                <label>
                    <input type="radio" name="otdm__option_week{{forloop.counter}}"
                           class="otdm__choice-input"
                           value="A" data-week="{{ week }}">
                </label>
            </td>
            <td class="text-center otdm__choice-cell">
                <label>
                    <input type="radio" name="otdm__option_week{{forloop.counter}}"
                           class="otdm__choice-input"
                           value="B" data-week="{{ week }}">
                </label>
            </td>
            <td class="text-left">
                {% if rev_gain == 1 %}
                in week <span class="otdm__week">{{ rev_week }}</span>
                {% else %}
                starting in week <span class="otdm__week">{{ rev_week }}</span>
                and ending (after) week <span class="otdm__week">{{ week_end }}</span>
                [<span class="otdm__week">{{ rev_gain }}</span>]
                {% endif %}
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<input class="otdm__value" type="hidden" name="{{ var_name }}">

<hr>

<div class="otdm__waiting">
    You have to select an option above to continue.
</div>

<div class="otdm__next-button">
    {% next_button %}
</div>

{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{% static 'otdm/styles/choices.css' %}"/>
{% endblock %}

{% block scripts %}
<script src="{% static 'otdm/scripts/choices.js' %}"></script>
{% endblock %}
